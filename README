= URITemplate - a uri template library

With URITemplate you can generate URI based on simple templates. The current implementation is based on draft 7 of the uri template spec ( http://tools.ietf.org/html/draft-gregorio-uritemplate-07 ). For the syntax read that spec. Draft 2 of that specification is implemented as addressable gem.

It's currently planed to add newer versions of that spec when they emerge. Therefore the module URITemplate just defines one abstract method ( expand ) and some methods to access the actual implementations.

Some implementations might be able to extract variables, too ( Draft 7 is! ).

== Examples

  require 'uri_template'
  
  tpl = URITemplate.new('http://{host}{/segments*}/{file}{.extensions*}')
  
  # This will give: http://www.host.com/path/to/a/file.x.y
  tpl.expand('host'=>'www.host.com','segments'=>['path','to','a'],'file'=>'file','extensions'=>['x','y'])
  
  # This will give: { 'host'=>'www.host.com','segments'=>['path','to','a'],'file'=>'file','extensions'=>['x','y']}
  tpl.extract('http://www.host.com/path/to/a/file.x.y')
  
  
== Benchmarks

 * System: Core 2 Duo T9300, 4 gb ram, Fedora 16 64 bit, ruby 1.9.2, 100_000 repetitions
 * Implementation: Draft7 ( version 0.1.3 (pre) ) vs. Addressable ( 2.2.6 )
 * Results marked with * means that the template object is reused.

                                                       Addressable | Addressable* |  Draft7 | Draft7* |
    --Expansion----------------------------------------------------------------------------------------
    Empty string                                             8.556 |        8.431 |   0.521 |   0.071 |
    One simple variable                                     20.373 |       20.602 |   3.220 |   0.987 |
    One escaped variable                                    23.020 |       23.208 |   6.817 |   4.601 |
    One missing variable                                     9.901 |        9.879 |   2.224 |   0.249 |
    Path segments                                           25.559 |       25.666 |   3.645 |   1.515 |
    Arguments                                               28.416 |       28.261 |   6.361 |   2.945 |
    Full URI                                                84.303 |       90.531 |  15.246 |   7.657 |
    Segments and Arguments                                  84.982 |       90.849 |  10.989 |   4.857 |
    --Extraction---------------------------------------------------------------------------------------
    Empty string                                            16.284 |       16.644 |   8.034 |   0.720 |
    One simple variable                                     38.910 |       40.144 |  14.118 |   3.180 |
    One escaped variable                                    45.668 |       47.827 |  16.136 |   4.971 |
    One missing variable                                    26.747 |       27.941 |  13.079 |   1.357 |
    Path segments                                           55.225 |       55.072 |  21.108 |   6.544 |
    Arguments                                               65.504 |       63.078 |  24.713 |   5.273 |
    Full URI                                               115.505 |      116.590 |  43.582 |  12.063 |
    Segments and Arguments                                  99.426 |      100.522 |  33.363 |  10.206 |
    Segments and Arguments ( not extractable )              26.146 |       27.504 |  23.795 |   0.355 |

SUCCESS - Draft7 was faster in every test!

