<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.7.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'>
<h1>URITemplate - a uri template library</h1>

<p>With URITemplate you can generate URI based on simple templates. The
current implementation is based on draft 7 of the uri template spec ( <a
href="http://tools.ietf.org/html/draft-gregorio-uritemplate-07">tools.ietf.org/html/draft-gregorio-uritemplate-07</a>
). For the syntax read that spec. Draft 2 of that specification is
implemented as addressable gem.</p>

<p>It’s currently planed to add newer versions of that spec when they emerge.
Therefore the module URITemplate just defines one abstract method ( expand
) and some methods to access the actual implementations.</p>

<p>Some implementations might be able to extract variables, too ( Draft 7 is!
).</p>

<p>From version 0.2.0, it will use escape_utils if available. This will
significantly boost uri-escape/unescape performance if more characters need
to be escaped ( may be slightly slower in trivial cases. working on that …
), but does not run everywhere. To enable this, do the following:</p>

<p>““ruby</p>

<pre class="code"><span class='comment'># escape_utils has to be loaded when uri_templates is loaded
</span><span class='id gem'>gem</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>escape_utils</span><span class='tstring_end'>'</span></span>
<span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>escape_utils</span><span class='tstring_end'>'</span></span>

<span class='id gem'>gem</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>uri_template</span><span class='tstring_end'>'</span></span>
<span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>uri_template</span><span class='tstring_end'>'</span></span>

<span class='const'>UriTemplate</span><span class='op'>::</span><span class='const'>Utils</span><span class='period'>.</span><span class='id using_escape_utils?'>using_escape_utils?</span> <span class='comment'>#=&gt; true</span></pre>

<h2>Examples</h2>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>uri_template</span><span class='tstring_end'>'</span></span>

<span class='id tpl'>tpl</span> <span class='op'>=</span> <span class='const'>URITemplate</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>http://{host}{/segments*}/{file}{.extensions*}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

<span class='comment'># This will give: http://www.host.com/path/to/a/file.x.y
</span><span class='id tpl'>tpl</span><span class='period'>.</span><span class='id expand'>expand</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>host</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>www.host.com</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>segments</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>path</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>to</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>a</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>file</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>file</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>extensions</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>x</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>y</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>

<span class='comment'># This will give: { 'host'=&gt;'www.host.com','segments'=&gt;['path','to','a'],'file'=&gt;'file','extensions'=&gt;['x','y']}
</span><span class='id tpl'>tpl</span><span class='period'>.</span><span class='id extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>http://www.host.com/path/to/a/file.x.y</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre>

<h2>Benchmarks</h2>

<pre class="code">* System: Core 2 Duo T9300, 4 gb ram, Fedora 16 64 bit, ruby 1.9.3, 100_000 repetitions
* Implementation: Draft7 ( version 0.1.3 (pre) ) vs. Addressable ( 2.2.6 )
* Results marked with * means that the template object is reused.

                                                      Addressable | Addressable* |  Draft7 | Draft7* |
   --Expansion----------------------------------------------------------------------------------------
   Empty string                                             8.601 |        8.529 |   0.451 |   0.057 |
   One simple variable                                     19.832 |       19.675 |   2.746 |   0.928 |
   One escaped variable                                    22.437 |       22.151 |   6.011 |   4.242 |
   One missing variable                                     9.638 |        9.544 |   1.855 |   0.184 |
   Path segments                                           25.353 |       25.413 |   3.171 |   1.372 |
   Arguments                                               27.140 |       27.144 |   5.293 |   2.715 |
   Full URI                                                75.599 |       75.680 |  11.147 |   5.246 |
   Segments and Arguments                                  73.360 |       73.334 |   7.694 |   3.604 |
   --Extraction---------------------------------------------------------------------------------------
   Empty string                                            14.031 |       13.993 |   1.849 |   0.576 |
   One simple variable                                     28.701 |       28.503 |   6.988 |   1.840 |
   One escaped variable                                    33.237 |       33.358 |   8.354 |   3.155 |
   One missing variable                                    17.201 |       17.051 |   6.318 |   1.177 |
   Path segments                                           43.112 |       43.623 |  12.502 |   2.983 |
   Arguments                                               54.448 |       54.090 |  13.772 |   3.394 |
   Full URI                                                95.433 |       91.961 |  30.762 |   6.797 |
   Segments and Arguments                                  80.508 |       79.570 |  23.204 |   5.210 |
   Segments and Arguments ( not extractable )              22.079 |       21.967 |  18.017 |   0.256 |</pre>

<p>SUCCESS - Draft7 was faster in every test!</p>
</div></div>
    
    <div id="footer">
  Generated on Sat Dec  3 15:47:45 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.3).
</div>

  </body>
</html>