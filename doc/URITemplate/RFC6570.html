<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: URITemplate::RFC6570
  
    &mdash; Documentation by YARD 0.8.2.1
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../URITemplate.html" title="URITemplate (module)">URITemplate</a></span></span>
     &raquo; 
    <span class="title">RFC6570</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: URITemplate::RFC6570
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">URITemplate::RFC6570</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2">Forwardable, <span class='object_link'><a href="RFC6570/ClassMethods.html" title="URITemplate::RFC6570::ClassMethods (module)">ClassMethods</a></span></dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="../URITemplate.html" title="URITemplate (module)">URITemplate</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/uri_template/rfc6570.rb<span class="defines">,<br />
  lib/uri_template/rfc6570/expression.rb,<br /> lib/uri_template/rfc6570/regex_builder.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Most specs and examples refer to this class directly, because they are
acutally refering to this specific implementation. If you just want uri
templates, you should rather use the methods on <span class='object_link'><a href="../URITemplate.html" title="URITemplate (module)">URITemplate</a></span> to create
templates since they will select an implementation.</p>
</div>
  </div>


<p>A uri template which should comply with the rfc 6570 ( <a
href="http://tools.ietf.org/html/rfc6570">tools.ietf.org/html/rfc6570</a>
).</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="RFC6570/ClassMethods.html" title="URITemplate::RFC6570::ClassMethods (module)">ClassMethods</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="RFC6570/Invalid.html" title="URITemplate::RFC6570::Invalid (class)">Invalid</a></span>, <span class='object_link'><a href="RFC6570/InvalidValue.html" title="URITemplate::RFC6570::InvalidValue (class)">InvalidValue</a></span>, <span class='object_link'><a href="RFC6570/RegexBuilder.html" title="URITemplate::RFC6570::RegexBuilder (class)">RegexBuilder</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="TYPE-constant" class="">TYPE =
          
        </dt>
        <dd><pre class="code"><span class='symbol'>:rfc6570</span></pre></dd>
      
        <dt id="NO_PROCESSING-constant" class="">NO_PROCESSING =
          <div class="docstring">
  <div class="discussion">
    
<p>Specifies that no processing should be done upon extraction.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#extract-instance_method" title="URITemplate::RFC6570#extract (method)">#extract</a></span></li>
    
  </ul>

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="CONVERT_VALUES-constant" class="">CONVERT_VALUES =
          <div class="docstring">
  <div class="discussion">
    
<p>Specifies that the extracted values should be processed.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#extract-instance_method" title="URITemplate::RFC6570#extract (method)">#extract</a></span></li>
    
  </ul>

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:convert_values</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="CONVERT_RESULT-constant" class="">CONVERT_RESULT =
          <div class="docstring">
  <div class="discussion">
    
<p>Specifies that the extracted variable list should be processed.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#extract-instance_method" title="URITemplate::RFC6570#extract (method)">#extract</a></span></li>
    
  </ul>

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:convert_result</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="DEFAULT_PROCESSING-constant" class="">DEFAULT_PROCESSING =
          <div class="docstring">
  <div class="discussion">
    
<p>Default processing. Means: convert values and the list itself.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#extract-instance_method" title="URITemplate::RFC6570#extract (method)">#extract</a></span></li>
    
  </ul>

</div>
        </dt>
        <dd><pre class="code"><span class='const'>CONVERT_VALUES</span> <span class='op'>+</span> <span class='const'>CONVERT_RESULT</span></pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../URITemplate.html" title="URITemplate (module)">URITemplate</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../URITemplate.html#HOST_REGEX-constant" title="URITemplate::HOST_REGEX (constant)">HOST_REGEX</a></span>, <span class='object_link'><a href="../URITemplate.html#SCHEME_REGEX-constant" title="URITemplate::SCHEME_REGEX (constant)">SCHEME_REGEX</a></span>, <span class='object_link'><a href="../URITemplate.html#URI_SPLIT-constant" title="URITemplate::URI_SPLIT (constant)">URI_SPLIT</a></span>, <span class='object_link'><a href="../URITemplate.html#VERSIONS-constant" title="URITemplate::VERSIONS (constant)">VERSIONS</a></span></p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#options-instance_method" title="#options (instance method)">- (Object) <strong>options</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute options.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D%3D-instance_method" title="#=== (instance method)">- (Object) <strong>===</strong>(uri) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Alias for to_r.=== .</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand-instance_method" title="#expand (instance method)">- (Object) <strong>expand</strong>(variables = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Expands the template with the given variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract-instance_method" title="#extract (instance method)">- (Object) <strong>extract</strong>(uri_or_match, post_processing = DEFAULT_PROCESSING) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts variables from a uri ( given as string ) or an instance of
MatchData ( which was matched by the regexp of this template. The actual
result depends on the value of post_processing. This argument specifies
whether pair arrays should be converted to hashes..</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_simple-instance_method" title="#extract_simple (instance method)">- (Object) <strong>extract_simple</strong>(uri_or_match) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts variables without any proccessing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (RFC6570) <strong>initialize</strong>(pattern_or_tokens, options = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of RFC6570.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#level-instance_method" title="#level (instance method)">- (Object) <strong>level</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the level of this template according to the rfc 6570 ( <a
href="http://tools.ietf.org/html/rfc6570#section-1.2">tools.ietf.org/html/rfc6570#section-1.2</a>
).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match-instance_method" title="#match (instance method)">- (Object) <strong>match</strong>(uri) { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Alias for to_r.match .</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_r-instance_method" title="#to_r (instance method)">- (Object) <strong>to_r</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compiles this template into a regular expression which can be used to test
whether a given uri matches this template.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tokens-instance_method" title="#tokens (instance method)">- (Object) <strong>tokens</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array containing a the template tokens.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">- (Object) <strong>type</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The type of this template.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="RFC6570/ClassMethods.html" title="URITemplate::RFC6570::ClassMethods (module)">ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="RFC6570/ClassMethods.html#try_convert-instance_method" title="URITemplate::RFC6570::ClassMethods#try_convert (method)">try_convert</a></span>, <span class='object_link'><a href="RFC6570/ClassMethods.html#valid%3F-instance_method" title="URITemplate::RFC6570::ClassMethods#valid? (method)">valid?</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../URITemplate.html" title="URITemplate (module)">URITemplate</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../URITemplate.html#apply-class_method" title="URITemplate.apply (method)">apply</a></span>, <span class='object_link'><a href="../URITemplate.html#coerce-class_method" title="URITemplate.coerce (method)">coerce</a></span>, <span class='object_link'><a href="../URITemplate.html#coerce_first_arg-class_method" title="URITemplate.coerce_first_arg (method)">coerce_first_arg</a></span>, <span class='object_link'><a href="../URITemplate.html#concat-instance_method" title="URITemplate#concat (method)">#concat</a></span>, <span class='object_link'><a href="../URITemplate.html#convert-class_method" title="URITemplate.convert (method)">convert</a></span>, <span class='object_link'><a href="../URITemplate.html#eq-instance_method" title="URITemplate#eq (method)">#eq</a></span>, <span class='object_link'><a href="../URITemplate.html#host%3F-instance_method" title="URITemplate#host? (method)">#host?</a></span>, <span class='object_link'><a href="../URITemplate.html#new-class_method" title="URITemplate.new (method)">new</a></span>, <span class='object_link'><a href="../URITemplate.html#path_concat-instance_method" title="URITemplate#path_concat (method)">#path_concat</a></span>, <span class='object_link'><a href="../URITemplate.html#pattern-instance_method" title="URITemplate#pattern (method)">#pattern</a></span>, <span class='object_link'><a href="../URITemplate.html#relative%3F-instance_method" title="URITemplate#relative? (method)">#relative?</a></span>, <span class='object_link'><a href="../URITemplate.html#resolve_class-class_method" title="URITemplate.resolve_class (method)">resolve_class</a></span>, <span class='object_link'><a href="../URITemplate.html#scheme%3F-instance_method" title="URITemplate#scheme? (method)">#scheme?</a></span>, <span class='object_link'><a href="../URITemplate.html#static_characters-instance_method" title="URITemplate#static_characters (method)">#static_characters</a></span>, <span class='object_link'><a href="../URITemplate.html#try_convert-class_method" title="URITemplate.try_convert (method)">try_convert</a></span>, <span class='object_link'><a href="../URITemplate.html#variables-instance_method" title="URITemplate#variables (method)">#variables</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="URITemplate::RFC6570 (class)">RFC6570</a></span></tt>) <strong>initialize</strong>(pattern_or_tokens, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A new instance of RFC6570</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>pattern_or_tokens</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>either a pattern as String or an Array of tokens</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>some options</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>:lazy</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a customizable set of options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267
268
269
270
271
272
273
274
275
276
277
278
279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 265</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_pattern_or_tokens'>pattern_or_tokens</span><span class='comma'>,</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pattern_or_tokens'>pattern_or_tokens</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>String</span>
    <span class='ivar'>@pattern</span> <span class='op'>=</span> <span class='id identifier rubyid_pattern_or_tokens'>pattern_or_tokens</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@pattern</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
    <span class='kw'>unless</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:lazy</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tokens'>tokens</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pattern_or_tokens'>pattern_or_tokens</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Array</span>
    <span class='ivar'>@tokens</span> <span class='op'>=</span> <span class='id identifier rubyid_pattern_or_tokens'>pattern_or_tokens</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='ivar'>@tokens</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected to receive a pattern string, but got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern_or_tokens'>pattern_or_tokens</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="options-instance_method">
  
    - (<tt>Object</tt>) <strong>options</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute options</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='ivar'>@options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="===-instance_method">
  
    - (<tt>Object</tt>) <strong>===</strong>(uri) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Alias for to_r.=== . Tests whether this template matches a given uri.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>TrueClass, FalseClass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


384</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 384</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:to_r</span><span class='comma'>,</span> <span class='symbol'>:===</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand-instance_method">
  
    - (<tt>Object</tt>) <strong>expand</strong>(variables = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>All keys of the supplied hash should be strings as anything else won't be
recognised.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>There are neither default values for variables nor will anything be raised
if a variable is missing. Please read the spec if you want to know how
undefined variables are handled.</p>
</div>
  </div>


<p>Expands the template with the given variables. The expansion should be
compatible to uritemplate spec rfc 6570 ( <a
href="http://tools.ietf.org/html/rfc6570">tools.ietf.org/html/rfc6570</a>
).</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{foo}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>foo</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>bar</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; 'bar'
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{?args*}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>args</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>key</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>value</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='comment'>#=&gt; '?key=value'
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{undef}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='comment'>#=&gt; ''</span></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>variables</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>String</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 281</span>

</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract-instance_method">
  
    - (<tt>Object</tt>) <strong>extract</strong>(uri_or_match, post_processing = DEFAULT_PROCESSING) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Don't expect that an extraction can fully recover the expanded variables.
Extract rather generates a variable list which should expand to the uri
from which it were extracted. In general the following equation should hold
true:</p>

<pre class="code ruby"><code><span class='id identifier rubyid_a_tpl'>a_tpl</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span> <span class='id identifier rubyid_a_tpl'>a_tpl</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span> <span class='id identifier rubyid_an_uri'>an_uri</span> <span class='rparen'>)</span> <span class='rparen'>)</span> <span class='op'>==</span> <span class='id identifier rubyid_an_uri'>an_uri</span></code></pre>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The current implementation drops duplicated variables instead of checking
them.</p>
</div>
  </div>


<p>Extracts variables from a uri ( given as string ) or an instance of
MatchData ( which was matched by the regexp of this template. The actual
result depends on the value of post_processing. This argument specifies
whether pair arrays should be converted to hashes.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Default Processing</p>
</div></p>
      
      <pre class="example code"><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{var}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>value</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; {'var'=&gt;'value'}
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{&amp;args*}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;a=1&amp;b=2</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; {'args'=&gt;{'a'=&gt;'1','b'=&gt;'2'}}
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{&amp;arg,arg}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;arg=1&amp;arg=2</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; {'arg'=&gt;'2'}</span></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>No Processing</p>
</div></p>
      
      <pre class="example code"><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{var}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>value</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='op'>::</span><span class='const'>NO_PROCESSING</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [['var','value']]
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{&amp;args*}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;a=1&amp;b=2</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='op'>::</span><span class='const'>NO_PROCESSING</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [['args',[['a','1'],['b','2']]]]
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{&amp;arg,arg}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&amp;arg=1&amp;arg=2</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='op'>::</span><span class='const'>NO_PROCESSING</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [['arg','1'],['arg','2']]</span></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Extraction cruces</p>
</div></p>
      
      <pre class="example code"><span class='id identifier rubyid_two_lists'>two_lists</span> <span class='op'>=</span> <span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{listA*,listB*}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='id identifier rubyid_two_lists'>two_lists</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>listA</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>listB</span><span class='tstring_end'>'</span></span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>4</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;1,2,3,4&quot;
</span><span class='id identifier rubyid_variables'>variables</span> <span class='op'>=</span> <span class='id identifier rubyid_two_lists'>two_lists</span><span class='period'>.</span><span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span> <span class='id identifier rubyid_uri'>uri</span> <span class='rparen'>)</span> <span class='comment'>#=&gt; {'listA'=&gt;[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],'listB'=&gt;[&quot;4&quot;]}
</span><span class='comment'># However, like said in the note:
</span><span class='id identifier rubyid_two_lists'>two_lists</span><span class='period'>.</span><span class='id identifier rubyid_expand'>expand</span><span class='lparen'>(</span> <span class='id identifier rubyid_variables'>variables</span> <span class='rparen'>)</span> <span class='op'>==</span> <span class='id identifier rubyid_uri'>uri</span> <span class='comment'>#=&gt; true</span></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uri_or_match</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>MatchData</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Uri_or_MatchData A uri or a matchdata from which the variables should be
extracted.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>post_processing</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DEFAULT_PROCESSING</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Processing Specifies which processing should be done.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Encoding::InvalidByteSequenceError when the given uri was not properly
encoded.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Encoding::UndefinedConversionError when the given uri could not be
converted to utf-8.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Encoding::CompatibilityError when the given uri could not be converted to
utf-8.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span><span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='comma'>,</span> <span class='id identifier rubyid_post_processing'>post_processing</span> <span class='op'>=</span> <span class='const'>DEFAULT_PROCESSING</span> <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>String</span>
    <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>MatchData</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:regexp</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='period'>.</span><span class='id identifier rubyid_regexp'>regexp</span> <span class='op'>!=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Trying to extract variables from MatchData which was not generated by this template.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Expected to receive a String or a MatchData, but got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_extract_matchdata'>extract_matchdata</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_post_processing'>post_processing</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>return</span> <span class='kw'>yield</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_simple-instance_method">
  
    - (<tt>Object</tt>) <strong>extract_simple</strong>(uri_or_match) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Extracts variables without any proccessing. This is equivalent to
<span class='object_link'><a href="#extract-instance_method" title="URITemplate::RFC6570#extract (method)">#extract</a></span> with options <span class='object_link'><a href="#NO_PROCESSING-constant" title="URITemplate::RFC6570::NO_PROCESSING (constant)">NO_PROCESSING</a></span>.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#extract-instance_method" title="URITemplate::RFC6570#extract (method)">#extract</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


377
378
379</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 377</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_simple'>extract_simple</span><span class='lparen'>(</span><span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_extract'>extract</span><span class='lparen'>(</span> <span class='id identifier rubyid_uri_or_match'>uri_or_match</span><span class='comma'>,</span> <span class='const'>NO_PROCESSING</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="level-instance_method">
  
    - (<tt>Object</tt>) <strong>level</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the level of this template according to the rfc 6570 ( <a
href="http://tools.ietf.org/html/rfc6570#section-1.2">tools.ietf.org/html/rfc6570#section-1.2</a>
). Higher level means higher complexity. Basically this is defined as:</p>
<ul><li>
<p>Level 1: no operators, one variable per expansion, no variable modifiers</p>
</li><li>
<p>Level 2: '+' and '#' operators, one variable per expansion, no variable
modifiers</p>
</li><li>
<p>Level 3: all operators, multiple variables per expansion, no variable
modifiers</p>
</li><li>
<p>Level 4: all operators, multiple variables per expansion, all variable
modifiers</p>
</li></ul>

<p>Templates of lower levels might be convertible to other formats while
templates of higher levels might be incompatible. Level 1 for example
should be convertible to any other format since it just contains simple
expansions.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 1
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo{bar}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 1
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo{#bar}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 2
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo{.bar}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 3
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo{bar,baz}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 3
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo{bar:20}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 4
</span><span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo{bar*}</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='comment'>#=&gt; 4</span></pre>
    
  </div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


423
424
425</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 423</span>

<span class='kw'>def</span> <span class='id identifier rubyid_level'>level</span>
  <span class='id identifier rubyid_tokens'>tokens</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:level</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match-instance_method">
  
    - (<tt>Object</tt>) <strong>match</strong>(uri) { ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Alias for to_r.match . Matches this template against the given uri.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>MatchData</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>MatchData, Object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 390</span>

<span class='id identifier rubyid_def_delegators'>def_delegators</span> <span class='symbol'>:to_r</span><span class='comma'>,</span> <span class='symbol'>:match</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_r-instance_method">
  
    - (<tt>Object</tt>) <strong>to_r</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compiles this template into a regular expression which can be used to test
whether a given uri matches this template. This template is also used for
<span class='object_link'><a href="#%3D%3D%3D-instance_method" title="URITemplate::RFC6570#=== (method)">#===</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><span class='id identifier rubyid_tpl'>tpl</span> <span class='op'>=</span> <span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo/{bar}/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='id identifier rubyid_tpl'>tpl</span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>
<span class='id identifier rubyid_regex'>regex</span> <span class='op'>===</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo/baz/</span><span class='tstring_end'>'</span></span> <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_regex'>regex</span> <span class='op'>===</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foz/baz/</span><span class='tstring_end'>'</span></span> <span class='comment'>#=&gt; false</span></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Regexp</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307
308
309
310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 305</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_r'>to_r</span>
  <span class='ivar'>@regexp</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_tokens'>tokens</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_r_source</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_unshift'>unshift</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>\A</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>\z</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='comma'>,</span> <span class='const'>Utils</span><span class='op'>::</span><span class='const'>KCODE_UTF8</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tokens-instance_method">
  
    - (<tt>Object</tt>) <strong>tokens</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing a the template tokens.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 428</span>

<span class='kw'>def</span> <span class='id identifier rubyid_tokens'>tokens</span>
  <span class='ivar'>@tokens</span> <span class='op'>||=</span> <span class='id identifier rubyid_tokenize!'>tokenize!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="type-instance_method">
  
    - (<tt>Object</tt>) <strong>type</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The type of this template.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><span class='id identifier rubyid_tpl1'>tpl1</span> <span class='op'>=</span> <span class='const'>URITemplate</span><span class='op'>::</span><span class='const'>RFC6570</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/foo</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_tpl2'>tpl2</span> <span class='op'>=</span> <span class='const'>URITemplate</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span> <span class='id identifier rubyid_tpl1'>tpl1</span><span class='period'>.</span><span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='id identifier rubyid_tpl1'>tpl1</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span>
<span class='id identifier rubyid_tpl1'>tpl1</span> <span class='op'>==</span> <span class='id identifier rubyid_tpl2'>tpl2</span> <span class='comment'>#=&gt; true</span></pre>
    
  </div>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>URITemplate::RFC6570.{URITemplate{URITemplate#type}</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


400
401
402</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/uri_template/rfc6570.rb', line 400</span>

<span class='kw'>def</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>TYPE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Sep 23 18:49:43 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.2.1 (ruby-1.9.3).
</div>

  </body>
</html>